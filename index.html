<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Board Game Quick Menus</title>
<link rel="icon" href="data:," />
<style>
:root { --brand:#0b63ff; --bg:#f6f7fb; --fg:#111; --muted:#666; --card:#fff; --border:#e9e9ee; font-family: system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; }
html,body { height:100%; }
body { margin:0; background:var(--bg); color:var(--fg); }
header { position:sticky; top:0; z-index:5; background:var(--brand); color:#fff; padding:14px 16px; box-shadow:0 2px 12px rgba(0,0,0,.12); }
header .wrap { max-width:1040px; margin:0 auto; display:flex; gap:12px; align-items:center; }
header h1 { margin:0; font-size:1.05rem; }
header input { margin-left:auto; width:320px; max-width:45vw; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.3); background:rgba(255,255,255,.95); color:#111; font-size:0.95rem; }
main { max-width:1040px; margin:18px auto 36px; padding:0 16px; }

/* list view */
.grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:12px; }
.card { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:12px; box-shadow:0 6px 16px rgba(0,0,0,.06); text-decoration:none; color:inherit; }
.card:hover { transform:translateY(-1px); box-shadow:0 10px 22px rgba(0,0,0,.08); }
.card h2 { margin:.1rem 0 .25rem; font-size:1rem; }
.sub { color:var(--muted); font-size:.86rem; margin:0; }

/* detail view */
.detail { background:var(--card); border:1px solid var(--border); border-radius:14px; padding:18px; box-shadow:0 6px 18px rgba(0,0,0,.08); }
.breadcrumbs { margin-bottom:8px; }
.breadcrumbs a { color:var(--brand); text-decoration:none; }
.title { margin:.2rem 0 .25rem; font-size:1.25rem; }
.meta { color:var(--muted); font-size:.92rem; margin:0 0 12px; }
.btns { display:grid; grid-template-columns:repeat(2,1fr); gap:10px; }
button, .btnlink {
padding:12px; border-radius:10px; border:1px solid var(--border); background:#fff; font-weight:600; cursor:pointer; text-align:center; text-decoration:none; color:inherit;
}
.primary { background:var(--brand); color:#fff; border:none; }
.wide { grid-column:1/-1; }
footer { color:#777; font-size:.85rem; text-align:center; margin-top:14px; }

/* modal */
.hidden { display:none; }
.modal { position:fixed; inset:0; background:rgba(0,0,0,.4); display:flex; align-items:center; justify-content:center; padding:16px; z-index:20; }
.panel { background:#fff; width:min(760px,92vw); border-radius:12px; padding:16px; max-height:84vh; overflow:auto; border:1px solid var(--border); }
.panel h3 { margin:.2rem 0 .6rem; font-size:1.05rem; }
.panel pre { white-space:pre-wrap; font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; background:#f6f6f6; padding:12px; border-radius:8px; border:1px solid #eee; }
.row { display:flex; gap:8px; justify-content:flex-end; margin-top:10px; }
.small { font-size:.9rem; padding:10px; }
</style>
</head>
<body>
<header>
<div class="wrap">
<h1>Board Game Quick Menus</h1>
<input id="search" placeholder="Search your collection…" aria-label="Search games">
</div>
</header>
<main id="app" aria-live="polite"></main>

<script>
/* ---------- DATA & HELPERS (inline; no imports) ---------- */
const slugify = s => s.toLowerCase()
.replace(/[:’'"]/g,"")
.replace(/&/g,"and")
.replace(/[^a-z0-9]+/g,"-")
.replace(/(^-|-$)/g,"");

/* Your collection (from your list) */
const NAMES = [
"7 Wonders","7 Wonders Duel","Acquire","Air, Land & Sea: Critters at War","Archduke","Ark Nova",
"Ark Nova: Marine Worlds","Azul","Azul: Crystal Mosaic","Backgammon","Brass: Birmingham","Candy Land: Bluey",
"Century: Golem Edition","Chess","Chronicles of Crime","Cover Your Assets","Critters at War: Flies, Lies, and Supplies",
"Dune: Imperium - Uprising","Dutch Blitz","Everdell","The Fellowship of the Ring Trick-Taking Game","Fire Tower",
"Fire Tower: Rising Flames","Five Crowns","For Sale","For Sale: Advisors","Forbidden Island","Foundations of Metropolis",
"Heat: Pedal to the Metal","Heat: Heavy Rain","Jaipur","Kingdomino","Kingdomino Origins","Monopoly Deal",
"Moonrakers: Titan Edition","Moonrakers: Dark Matter","Moonrakers: The Endless","Moonrakers: The Shard","Moonrakers: Starfall",
"Moonrollers","New York Zoo","Pan Am","PARKS","PARKS: Nightfall","PARKS: Wildlife","Patchwork","Play Nine",
"Quacks of Quedlinburg","Quacks of Quedlinburg: Alchemists","Quacks of Quedlinburg: Herb Witches","Radlands","Rage",
"Ravine","Ravine: The Spirits Expansion","Rook","Rummikub","Sail","Sequence","Skip-Bo","Sky Team","Sniper Elite","Splendor",
"Star Wars: The Deck-Building Game","Vinhos Deluxe Edition","Watergate","Wingspan","Project L","Project L: Finesse",
"Project L: Ghost","Harmonies","Wingspan: European Expansion","Forest Shuffle","Heat: Tunnel Vision","Brink","Tend"
];

/* Optional per-game enrichments */
const ENRICH = {
[slugify("Heat: Pedal to the Metal")]: {
players:"2–6", year:"2022",
youtube:"https://www.youtube.com/watch?v=REPLACE_HEAT_VIDEO",
bgstats:"https://bgstats.app/game/heat-pedal-to-the-metal",
quickStart:`Players: 2–6 • Setup ~5–7 min

1) Track & Modules
- Choose track; shuffle track cards as required.
- If using Heavy Rain: place rain boards; shuffle weather.

2) Player Setup
- Each: car, dashboard, starting gear & starting hand.
- Scenario starting money & upgrades.

3) Decks & Supply
- Shuffle stress/heat per rules; set weather tokens & slipstream.

4) Round (high-level)
- Select speed → reveal → resolve heat/stress → move → slipstream → cleanup.

Tips: Don’t burn heat early; plan corners; slipstream when possible.`
},
[slugify("Quacks of Quedlinburg")]: {
players:"2–4", year:"2018",
youtube:"https://www.youtube.com/watch?v=REPLACE_QUACKS_VIDEO",
bgstats:"https://bgstats.app/game/the-quacks-of-quedlinburg",
quickStart:`Players: 2–4 • 9 rounds

Setup
- Each: pot board, droplet 0, rat 0, rubies 0, starting bag (per rules).
- Ingredient books for chosen set.

Round
- Simultaneously draw & place chips; stop or risk explosion.
- Resolve: bonus die, rubies, buy ingredients, rats next round.

Tips: Track white chips; manage risk near 7+.`
},
[slugify("Wingspan")]: {
players:"1–5", year:"2019",
youtube:"https://www.youtube.com/watch?v=REPLACE_WINGSPAN_VIDEO",
quickStart:`Players: 1–5 • 4 rounds

Setup
- Deal birds & food; keep some, pay others. Player mats & cubes; set round goals.

Turn (choose 1):
- Play bird; Gain food; Lay eggs; Draw cards. Resolve habitat powers right→left.

Tips: Eggs are points; align engine with goals.`
}
};

/* Build game map */
const GAMES = {};
for (const name of NAMES) {
const slug = slugify(name);
GAMES[slug] = { name, slug, ...(ENRICH[slug]||{}) };
}

/* Base path helper so rulebook/reminders work on user or project pages */
function basePath() {
// e.g., "/<repo>" on project pages, "" on user/organization pages at root
const p = location.pathname.replace(/\/index\.html$/,'').replace(/\/$/,'');
return p;
}
function rulebookUrl(slug){ return `${basePath()}/rulebooks/${slug}.pdf`; }
function remindersUrl(slug){ return `${basePath()}/reminders/${slug}.html`; }

/* ---------- RENDERERS ---------- */
const $app = document.getElementById('app');
const $search = document.getElementById('search');

function renderList(filter="") {
const f = filter.trim().toLowerCase();
const items = Object.values(GAMES)
.slice()
.sort((a,b)=>a.name.localeCompare(b.name))
.filter(g => !f || g.name.toLowerCase().includes(f));

$app.innerHTML = `
<section class="grid">
${items.map(g => `
<a class="card" href="#/game/${g.slug}">
<h2>${g.name}</h2>
<p class="sub">${[g.players,g.year].filter(Boolean).join(" • ")}</p>
</a>
`).join('')}
</section>
${items.length===0 ? `<p class="sub" style="margin-top:12px">No matches. Try a different search.</p>` : ``}
`;
}

function renderDetail(slug) {
const g = GAMES[slug];
if (!g) {
$app.innerHTML = `
<div class="detail">
<div class="breadcrumbs"><a href="#/">All games</a></div>
<h2 class="title">Game not found</h2>
<p class="meta">The slug <code>${slug}</code> isn’t in your collection.</p>
</div>`;
return;
}

const links = {
youtube: g.youtube || "",
bgstats: g.bgstats || `https://bgstats.app/game/${slug}`,
reminders: g.reminders || remindersUrl(slug),
rules: g.rulebook || rulebookUrl(slug)
};

$app.innerHTML = `
<div class="detail">
<div class="breadcrumbs"><a href="#/">All games</a></div>
<h2 class="title">${g.name}</h2>
<p class="meta">${[g.players,g.year].filter(Boolean).join(" • ") || "Choose an action:"}</p>

<div class="btns">
<a class="btnlink wide" id="btn-youtube" ${links.youtube ? `href="${links.youtube}" target="_blank" rel="noopener"` : ``}>▶️ How-to-Play (YouTube)</a>
<button class="primary" id="btn-quick">Quick Setup</button>
<a class="btnlink" id="btn-bgstats" href="${links.bgstats}" target="_blank" rel="noopener">BG Stats – Log a Play</a>
<a class="btnlink" id="btn-rem" href="${links.reminders}" target="_blank" rel="noopener">Quick Reminders</a>
<a class="btnlink" id="btn-rules" href="${links.rules}" target="_blank" rel="noopener">Open Rulebook (PDF)</a>
<button class="wide" id="btn-share">Share / Copy Link</button>
</div>

<footer>Rulebook path: <code>${links.rules}</code></footer>
</div>
`;

// Wire modal
document.getElementById('btn-quick').addEventListener('click', () => {
const text = (g.quickStart||"").trim() || "(No quick setup text configured.)";
document.getElementById('qs-text').textContent = text;
const modal = document.getElementById('modal');
modal.classList.remove('hidden');
modal.setAttribute('aria-hidden','false');
});

// Share
document.getElementById('btn-share').addEventListener('click', async () => {
const url = location.href;
try {
if (navigator.share) { await navigator.share({ title:`Quick Menu — ${g.name}`, text:`Menu for ${g.name}`, url }); return; }
} catch(e){}
try { await navigator.clipboard.writeText(url); alert("Link copied to clipboard"); }
catch(e){ prompt("Copy this link:", url); }
});

// Disable YouTube button if unset
const y = document.getElementById('btn-youtube');
if (!links.youtube) {
y.removeAttribute('href');
y.addEventListener('click', () => alert("No YouTube link configured for this game."));
}
}

/* ---------- ROUTER (hash) ---------- */
function parseHash() {
// routes: "#/" or "#/game/<slug>"
const h = location.hash || "#/";
const parts = h.slice(2).split("/"); // remove "#/"
if (parts[0] === "" || parts[0] === undefined) return { route:"list" };
if (parts[0] === "game" && parts[1]) return { route:"detail", slug:parts[1].toLowerCase() };
return { route:"list" };
}

function render() {
const { route, slug } = parseHash();
if (route === "detail") {
renderDetail(slug);
} else {
renderList($search.value || "");
}
}

window.addEventListener('hashchange', render);
document.addEventListener('DOMContentLoaded', () => {
// search works only on list view; clear it on detail
$search.addEventListener('input', () => {
if ((location.hash||"#/") !== "#/") location.hash = "#/";
render();
});

// modal controls
document.getElementById('btn-close').addEventListener('click', () => {
const modal = document.getElementById('modal');
modal.classList.add('hidden');
modal.setAttribute('aria-hidden','true');
});
document.getElementById('btn-print').addEventListener('click', () => window.print());

render();
});
</script>
</body>
</html>
