<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Board Game Quick Menus</title>
<link rel="icon" href="data:," />
<style>
  :root{
    --brand:#0b63ff; --bg:#f6f7fb; --fg:#111; --muted:#555; --card:#fff; --border:#e6e6ef;
    --btn:#fff; --btn-border:#dcdce6;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }
  :root[data-theme="dark"]{
    --brand:#5b8dff; --bg:#0f1115; --fg:#e8eaf0; --muted:#a2a8b4; --card:#161922; --border:#2a2f3a; --btn:#1b2030; --btn-border:#2a2f3a;
  }
  @media (prefers-color-scheme: dark){
    :root:not([data-theme]){
      --brand:#5b8dff; --bg:#0f1115; --fg:#e8eaf0; --muted:#a2a8b4; --card:#161922; --border:#2a2f3a; --btn:#1b2030; --btn-border:#2a2f3a;
    }
  }
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--fg);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
  img{max-width:100%;height:auto;display:block}
  header{position:sticky;top:0;z-index:5;background:var(--brand);color:#fff;padding:10px 14px;box-shadow:0 2px 12px rgba(0,0,0,.15)}
  header .wrap{max-width:1000px;margin:0 auto;display:flex;gap:10px;align-items:center}
  header h1{margin:0;font-size:1rem;white-space:nowrap}
  header .spacer{flex:1}
  header button.toggle{appearance:none;border:1px solid rgba(255,255,255,.35);background:transparent;color:#fff;border-radius:9px;padding:8px 10px;cursor:pointer;font-weight:600}
  header a.home{color:#fff;text-decoration:none;border:1px solid rgba(255,255,255,.35);border-radius:9px;padding:8px 10px}
  main{max-width:1000px;margin:16px auto 40px;padding:0 14px}

  /* List view */
  #search{width:100%;padding:12px;border-radius:10px;border:1px solid var(--border);background:var(--card);color:var(--fg);margin-bottom:12px}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:10px;text-decoration:none;color:inherit;display:flex;gap:10px}
  .thumb{width:64px;height:64px;border-radius:8px;background:#0001;flex:0 0 auto;overflow:hidden}
  .thumb img{width:100%;height:100%;object-fit:cover}
  .metaWrap{min-width:0}
  .card h2{margin:.1rem 0 .25rem;font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .sub{color:var(--muted);font-size:.85rem;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

   /* Detail view */
.detail{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  display:grid;
  grid-template-columns:260px 1fr;
  gap:16px;
}

/* Show full cover (no crop) */
.cover{
  border-radius:12px;
  overflow:hidden;
  background:#0001;
  justify-self:center;      /* center the cover art in its column */
  max-width:130px;          /* half-ish of the 260px column */
}

.cover img{
  width:100%;
  height:auto;
  display:block;
  object-fit:contain;       /* show full image, no cropping */
}

.title{
  margin:.2rem 0 .25rem;
  font-size:1.2rem;
  line-height:1.2;
}
.byline{
  color:var(--muted);
  font-size:.92rem;
  margin:0 0 10px;
}

/* Actions + buttons */
.actions{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:6px;
}

.btn,
.btnlink{
  display:block;
  width:100%;
  text-align:center;
  padding:14px;
  border-radius:12px;
  border:1px solid var(--btn-border);
  background:var(--btn);
  color:inherit;
  text-decoration:none;
  font-weight:700;
  cursor:pointer;
  box-sizing:border-box;    /* <-- THIS is what stops them falling off */
}

.btn.primary{
  background:var(--brand);
  color:#fff;
  border:none;
}
  .btn.primary{background:var(--brand);color:#fff;border:none}
  .qs,.exp{margin-top:8px;padding:10px;border:1px dashed var(--border);border-radius:12px;background:color-mix(in oklab, var(--card) 90%, var(--brand) 10%)}
  .qs pre{white-space:pre-wrap;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;margin:0}
  .exp h3{margin:.2rem 0 .6rem;font-size:1.05rem}
  .exp ul{margin:.2rem 0 .2rem 1.1rem}
  .exp a{color:inherit}
  footer{text-align:center;font-size:.8rem;color:var(--muted);margin-top:16px}

  /* Expansion details */
  .expansion{
    margin-bottom:8px;
  }
  .expansion summary{
    cursor:pointer;
    list-style:none;
    font-weight:600;
  }
  .expansion summary::-webkit-details-marker{
    display:none;
  }
  .expansion-body{
    margin-top:6px;
  }
  .expansion-text-block h4{
    margin:.2rem 0 .25rem;
    font-size:.95rem;
  }
  .expansion-text-block p{
    margin:0 0 .4rem;
    font-size:.85rem;
    line-height:1.4;
  }
  .expansion-btns{
    display:flex;
    flex-direction:column;
    gap:6px;
    margin-top:4px;
  }
  .expansion-name{
    font-weight:600;
  }

  @media (max-width:840px){
    .detail{grid-template-columns:1fr}
    .cover{width:100%}
  }
</style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>Board Game Quick Menus</h1>
    <div class="spacer"></div>
    <button id="themeToggle" class="toggle" aria-label="Toggle dark mode">üåô/‚òÄÔ∏è</button>
    <a class="home" href="#/">All Games</a>
  </div>
</header>

<main id="app"><noscript>JavaScript required.</noscript></main>

<script id="games-json" type="application/json">
{
  "names": [
    "7 Wonders",
    "7 Wonders Duel",
    "Acquire",
    "Air, Land & Sea: Critters at War",
    "Archduke",
    "Ark Nova",
    "Azul",
    "Backgammon",
    "Brass: Birmingham",
    "Candy Land: Bluey",
    "Century: Golem Edition",
    "Chess",
    "Chronicles of Crime",
    "Cover Your Assets",
    "Dune: Imperium - Uprising",
    "Dutch Blitz",
    "The Fellowship of the Ring Trick-Taking Game",
    "Five Crowns",
    "For Sale",
    "Forbidden Island",
    "Foundations of Metropolis",
    "Heat: Pedal to the Metal",
    "Jaipur",
    "Kingdomino",
    "Kingdomino Origins",
    "Monopoly Deal",
    "Moonrakers: Titan Edition",
    "Moonrollers",
    "New York Zoo",
    "Pan Am",
    "PARKS",
    "Patchwork",
    "Play Nine",
    "Project L",
    "Quacks of Quedlinburg",
    "Radlands",
    "Rage",
    "Ravine",
    "Rook",
    "Rummikub",
    "Sail",
    "Sequence",
    "Skip-Bo",
    "Sky Team",
    "Sniper Elite",
    "Splendor",
    "Star Wars: The Deck-Building Game",
    "Vinhos Deluxe Edition",
    "Watergate",
    "Wingspan",
    "Harmonies",
    "Forest Shuffle",
    "Marvel Villainous",
    "Brink",
    "Tend", 
    "Pillars of Fate",
    "Graft", 
    "Time to Panic",
    "Fire Tower"
  ],
  "enrich": {
    "7-wonders":                        { "players":"3‚Äì7", "time":"30",     "year":"2010", "bggId":"68448",  "quickStart":"<p>Remove age cards not applicable for the player count.<br><br>Remove all purple cards from Age III. Shuffle them together and draw for player count +2. Shuffle back into Age III.<br><br>Each player starts with 3 coins.<br>Deal 7 cards to each player.</p>", "remindersText": "<p>The last card during the drafting of each age will be discarded.</p>", "playerCountSetup": "<p>Remove cards based on player count.</p>", "startingResources": "3 Coins", "turnStructure": "<p><strong>Draft</strong><br><br>Each player takes a card and passes their hand the direction shown on the Age cards.</p>", "commonMistakes": "", "expansions": [ {"name": "Armada", "quickStart": "<p>Test<br>Test 3</p>", "reminders": "Test", "rulebook": "", "youtube": "", "bggId": ""}, {"name": "Cities", "quickStart": "Test 2", "reminders": "Test 2", "rulebook": "", "youtube": "", "bggId": ""}]},
    "7-wonders-duel":                   { "players":"2",   "time":"30",     "year":"2015", "bggId":"173346", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "acquire":                          { "players":"2‚Äì6", "time":"90",     "year":"1964", "bggId":"5",      "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "air-land-sea-critters-at-war":     { "players":"2",   "time":"20",     "year":"2021", "bggId":"304420", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "archduke":                         { "players":"*",   "time":"*",      "year":"*",    "bggId":"",       "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "ark-nova":                         { "players": "1‚Äì4","time": "120‚Äì180","year": "2021","bggId": "342942",
                                          "quickStart": "- Give zoo map + action cards\n- Set action cards in slots 1‚Äì5\n- Deal starting hand of zoo cards\n- Reveal card display\n- Set conservation projects",
                                          "startingResources": "- Zoo map\n- 5 action cards in slots 1‚Äì5\n- Starting money\n- 8 cubes\n- Starting cards",
                                          "remindersText": "- Used action returns to slot 1\n- Animals require enclosure & icons\n- Association worker availability matters\n- Appeal + conservation crossing triggers game end\n- Reputation limits card snapping",
                                          "playerCountSetup": "- Solo uses target scores\n- 2‚Äì4p identical setup\n- Advanced maps optional",
                                          "turnStructure": "- Choose action card (1‚Äì5)\n- Resolve at that strength\n- Move card to slot 1\n- Break when triggered",
                                          "commonMistakes": "- Misplacing enclosure sizes\n- Forgetting reputation limits\n- Not planning conservation early\n- Ignoring income timing",
                                    "expansions": [
                                        {"name": "Marine Worlds",
                                              "quickStart": "- Add sea animals\n- Add new bonuses + final scoring\n- Add new enclosures (if used)",
                                              "reminders": "- Sea icons required\n- New scoring tiles add variety",
                                              "rulebook": "",
                                              "youtube": "",
                                              "bggId": "368966"}]},
    "azul":                             { "players":"2‚Äì4", "time":"30‚Äì45",  "year":"2017", "bggId":"230802", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "backgammon":                       { "players":"2",   "time":"30",     "year":"*",    "bggId":"11951",  "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "brass-birmingham":                 { "players":"2‚Äì4", "time":"90‚Äì150", "year":"2018", "bggId":"224517", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "candy-land-bluey":                 { "players":"*",   "time":"*",      "year":"*",    "bggId":"",       "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "century-golem-edition":            { "players":"2‚Äì5", "time":"30‚Äì45",  "year":"2017", "bggId":"232832", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "chess":                            { "players":"2",   "time":"30‚Äì60",  "year":"*",    "bggId":"171",    "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "chronicles-of-crime":              { "players":"1‚Äì4", "time":"60‚Äì90" , "year":"2018", "bggId":"239188", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "cover-your-assets":                { "players":"2‚Äì6", "time":"20‚Äì40",  "year":"2008", "bggId":"48726",  "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "dune-imperium-uprising":           { "players":"1‚Äì6", "time":"60‚Äì120", "year":"2023", "bggId":"386211", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "dutch-blitz":                      { "players":"2‚Äì4", "time":"15",     "year":"1960", "bggId":"1239",   "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "the-fellowship-of-the-ring-trick-taking-game": { "players":"*", "time":"*", "year":"*", "bggId":"",     "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "five-crowns":                      { "players":"1‚Äì7", "time":"20‚Äì45",  "year":"1996", "bggId":"5011",   "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "fire-tower":                       { "players": "2‚Äì4","time": "15‚Äì30", "year": "2019","bggId": "260835",
                                          "quickStart": "- Place board\n- Place fire at center\n- Give each player 1 tower + matching deck\n- Shuffle decks; draw 5 cards\n- Place wind marker per initial card",
                                          "startingResources": "- 1 deck of cards\n- 1 tower piece\n- 5 cards in hand",
                                          "remindersText": "- Fire spreads each turn in direction of wind\n- Firebreaks block fire\n- Water cards extinguish single flames\n- Winds shift often\n- Embers jump when rolling high spread",
                                          "playerCountSetup": "- 2‚Äì4p identical setup\n- No components removed",
                                          "turnStructure": "- Spread fire\n- Play 1 card\n- Draw 1 card\n- Rotate wind if instructed",
                                          "commonMistakes": "- Forgetting ember spread\n- Misplacing firebreaks diagonally\n- Not updating wind direction",
                                "expansions": [
                                        {"name": "Rising Flames",
                                              "quickStart": "- Add new decks + characters\n- Add firehawks + event deck\n- Add new variants",
                                              "reminders": "- Firehawks spread fire unpredictably\n- Characters have asymmetrical powers",
                                              "rulebook": "",
                                              "youtube": "",
                                              "bggId": "276224"}]},
    "for-sale":                         { "players":"3‚Äì6", "time":"20",     "year":"1997", "bggId":"172",    "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "forbidden-island":                 { "players":"2‚Äì4", "time":"30",     "year":"2010", "bggId":"65244",  "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "foundations-of-metropolis":        { "players":"*",   "time":"*",      "year":"*",    "bggId":"",       "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "heat-pedal-to-the-metal":          { "players": "2‚Äì6","time": "45‚Äì60", "year": "2022","bggId": "366013","quickStart": "- Give each player: 1 car, dashboard, 12-card deck, 6 Heat, 3 Stress\n- Set gear to 2nd\n- Randomize starting grid\n- Choose track + place corner speeds\n- Shuffle Stress into decks\n- Each player draws 7 cards", "startingResources": "- 12-card deck\n- 6 Heat cubes\n- 3 Stress cards\n- Car miniature + dashboard\n- Gear marker on 2nd gear", "remindersText": "- Shift only 1 gear unless you pay Heat\n- Heat must be paid when exceeding corner speed\n- Slipstream triggers if ending next to/behind a car\n- Cooldown happens at end of turn\n- Stress flips until total speed is met\n- Draw back to 7 each round", "playerCountSetup": "- 2p: bots recommended\n- 3‚Äì6p: standard setup\n- No components are removed at low counts\n- Track choice does not affect setup", "turnStructure": "- Shift\n- Play cards\n- Resolve effects\n- Check corners\n- Move\n- Slipstream\n- Cooldown + draw", "commonMistakes": "- Not paying Heat at corners\n- Forgetting slipstream\n- Miscounting which corner was passed\n- Playing Stress incorrectly\n- Staying in high gear too long", "expansions": [{"name": "Heavy Rain", "quickStart": "- Add new tracks (Japan/Mexico)\n- Support 7 players\n- Add weather/road modules\n- Add new upgrade/sponsor/event cards", "reminders": "- Weather changes corner speeds\n- More technical track layouts\n- Sponsorship cards add between-race powers", "rulebook": "", "youtube": "", "bggId": "410291"}, { "name": "Tunnel Vision", "quickStart": "- Add Netherlands/Spain tracks\n- Add tunnel + chicane rules\n- Add Front Wing upgrades\n- Add new event/sponsor cards", "reminders": "- Tunnels restrict movement options\n- Some corners are extremely tight\n- Front Wing improves slipstream interactions", "rulebook": "", "youtube": "", "bggId": "436904"}]},
    "jaipur":                           { "players":"2",   "time":"30",     "year":"2009", "bggId":"54043",  "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "kingdomino":                       { "players":"2‚Äì4", "time":"15‚Äì30",  "year":"2016", "bggId":"204583", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "kingdomino-origins":               { "players":"2‚Äì4", "time":"25‚Äì45",  "year":"2021", "bggId":"329438", "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "monopoly-deal":                    { "players":"2‚Äì5", "time":"15",     "year":"2008", "bggId":"37904",  "quickStart":"", "expansions": [ {"name": "", "quickStart": "", "reminders": "", "rulebook": "", "youtube": "", "bggId": ""}]},
    "moonrakers-titan-edition": {
  "players": "1‚Äì5",
  "time": "60‚Äì120",
  "year": "2020",
  "bggId": "438924",

  "quickStart": "- Give ship board + starting deck\n- Give 10 credits\n- Reveal contract row\n- Deal 3 objectives\n- Set prestige target",

  "startingResources": "- Starting deck\n- 10 credits\n- 3 objectives\n- Ship board",

  "remindersText": "- Contracts are co-op but reward negotiation\n- Failed contract = hazards but no rewards\n- Thrusters = extra actions\n- Reactors = more plays\n- Draw back to full at end of turn",

  "playerCountSetup": "- Higher prestige for 2‚Äì3p\n- More negotiation at 4‚Äì5p\n- Solo uses dedicated rules",

  "turnStructure": "- Choose: contract OR terminal action\n- Negotiate\n- Play cards\n- Resolve hazards/rewards",

  "commonMistakes": "- Taking bad deals\n- Not tracking hazards\n- Ignoring objectives\n- Overcommitting without thrusters",

  "expansions": [
    {
      "name": "Binding Ties",
      "quickStart": "- Add relationship boards\n- Shuffle new contracts/objectives",
      "reminders": "- Partnership bonuses accumulate\n- Encourages repeat teaming",
      "rulebook": "",
      "youtube": "",
      "bggId": ""
    },
    {
      "name": "Overload",
      "quickStart": "- Add new crew + parts\n- Add new action cards",
      "reminders": "- Bigger combos, faster engines",
      "rulebook": "",
      "youtube": "",
      "bggId": ""
    },
    {
      "name": "Nomad",
      "quickStart": "- Add map modules\n- Add Nomad contracts",
      "reminders": "- Location effects change contract values",
      "rulebook": "",
      "youtube": "",
      "bggId": ""
    }
  ]
},
     "moonrollers": {
      "players": "2‚Äì5",
      "time": "20‚Äì30",
      "year": "2024",
      "bggId": "",

      "quickStart": "- Give each player their faction board.\n- Give each player their roller die/dice depending on variant.\n- Shuffle objective cards and deal as instructed.\n- Set shared goals and central resource tokens (stars, crystals, etc.).",

      "startingResources": "- 1 player board.\n- Starting dice.\n- Starting resources per faction (usually 0 unless variant states otherwise).\n- Shared pool of resources in center.",

      "remindersText": "- Roll ‚Üí allocate ‚Üí resolve.\n- Dice values usually trigger actions or resources.\n- Many actions chain or combo depending on faction.\n- Objectives trigger bonus scoring when completed.",
      
      "playerCountSetup": "- No components removed for any player count.\n- 2‚Äì3 players: more open board interactions.\n- 4‚Äì5 players: objectives and tiles tighten quickly.",

      "turnStructure": "- Roll dice.\n- Assign dice to actions or tracks on your board.\n- Resolve each die‚Äôs effect.\n- Gain resources/move markers.\n- Check objective completion.\n- End turn and draw if needed.",

      "commonMistakes": "- Not resolving dice in the correct order.\n- Forgetting to check if objectives trigger mid-turn.\n- Misreading faction asymmetry (each faction plays differently).",

      "expansions": []
    },
       "new-york-zoo": {
      "players": "1‚Äì5",
      "time": "30‚Äì60",
      "year": "2020",
      "bggId": "305049",

      "quickStart": "- Give each player their zoo board.\n- Create the central action track.\n- Place enclosure tiles in piles according to size.\n- Place animal meeples by species in separate pools.\n- Randomly select first player; place the elephant marker.",

      "startingResources": "- 1 zoo board.\n- No starting animals unless playing a special solo rule.\n- Shared pool of animals and enclosures nearby.",

      "remindersText": "- Players move the elephant marker and take either animals or enclosures.\n- Filling an enclosure exactly triggers a breeding event.\n- You must place every animal you take; extras go back.\n- First to fill their zoo board wins immediately.",

      "playerCountSetup": "- No pieces removed.\n- Shorter games with more players since breeding triggers more often.\n- Solo mode uses a special AI flow and deck.",

      "turnStructure": "- Move the elephant marker around the track.\n- If landing on enclosures: take one and place on your board.\n- If landing on animals: take all animals shown and place legally.\n- If an enclosure fills exactly: trigger breeding.\n- End of turn; next player moves the elephant.",

      "commonMistakes": "- Forgetting that enclosure must be filled EXACTLY to breed.\n- Taking animals you cannot place (illegal).\n- Blocking yourself by placing large enclosures too early.",

      "expansions": []
    },
    "pan-am": {
      "players": "2‚Äì4",
      "time": "60",
      "year": "2020",
      "bggId": "318977",

      "quickStart": "- Give each player 5 engineers and their starting money.\n- Shuffle the event deck and reveal the first event.\n- Prepare airport, route, and destination decks.\n- Place Pan Am marker on the timeline at year 1928.\n- Create market for airplanes (Clipper, Cruiser, etc.).",

      "startingResources": "- $12 starting cash.\n- 5 engineers.\n- No starting planes.\n- Player board and income marker at 0.",

      "remindersText": "- Worker placement ‚Üí bidding ‚Üí route claiming ‚Üí Pan Am expansion.\n- Pan Am buys your routes for cash (good!).\n- Income increases as you claim routes and airports.\n- Game ends in 7 rounds; most stock wins.",

      "playerCountSetup": "- 2‚Äì4 players.\n- No components change.\n- Fewer players = less competition for routes and planes.\n- Solo mode uses bots from the rulebook.",

      "turnStructure": "- Phase 1: Reveal event.\n- Phase 2: Place engineers on actions (bidding and fixed spots).\n- Phase 3: Resolve actions in order (buy planes, airports, etc.).\n- Phase 4: Claim routes.\n- Phase 5: Pan Am expands, buying routes.\n- Phase 6: Income phase.\n- Phase 7: Buy stock.",

      "commonMistakes": "- Not bidding enough for crucial planes.\n- Forgetting that selling routes to Pan Am is GOOD.\n- Miscalculating income jumps.\n- Ignoring event effects.",

      "expansions": []
    },
      "parks": {
      "players": "1‚Äì5",
      "time": "40‚Äì60",
      "year": "2019",
      "bggId": "266524",

      "quickStart": "- Lay out the season deck and reveal the first season.\n- Construct the trail from shuffled trail tiles.\n- Give each player 2 hikers and a canteen.\n- Shuffle gear deck and set up park deck.\n- Place resources (sun, water, forest, mountain, wildlife) nearby.",

      "startingResources": "- 2 hikers.\n- 1 canteen.\n- No starting resources.\n- Trail array built for current season.",

      "remindersText": "- Move ONE hiker per turn.\n- You cannot land on another hiker unless using the campfire.\n- Parks require specific resources to visit.\n- Wildlife tokens are wild.\n- Season effects modify the trail each round.",

      "playerCountSetup": "- Trail length scales with player count.\n- Use more tiles for 4‚Äì5 players.\n- Solo mode uses the ranger pawn and special rules.",

      "turnStructure": "- Move 1 hiker down the trail to any tile ahead.\n- Collect the tile‚Äôs action/resources.\n- Continue until all hikers reach the trail end.\n- End of season: reset trail, prepare next season.\n- End game after 4 seasons.",

      "commonMistakes": "- Forgetting to flip campfire to share spaces.\n- Wasting wildlife early instead of saving for big parks.\n- Not planning for end-of-season constraints.\n- Misreading trail tile abilities.",

      "expansions": [
        {
          "name": "Nightfall",
          "quickStart": "- Add new parks, gear, and events.\n- Add camping tiles and campsite actions.\n- Shuffle in updated canteens.",
          "reminders": "- Campsites provide strong powers.\n- New parks require more wildlife tokens.\n- Night cards change scoring conditions.",
          "rulebook": "",
          "youtube": "",
          "bggId": "290578"
        },
        {
          "name": "Wildlife",
          "quickStart": "- Add bison tokens and new park cards.\n- Shuffle wildlife parks into deck.\n- Add gear and canteen updates.",
          "reminders": "- Bison introduce new scoring patterns.\n- Many actions now chain with wildlife tokens.",
          "rulebook": "",
          "youtube": "",
          "bggId": "355706"
        }
      ]
    },
      "patchwork": {
      "players": "2",
      "time": "30",
      "year": "2014",
      "bggId": "163412",

      "quickStart": "- Lay out all patches in a circle.\n- Place the neutral pawn before the smallest patch.\n- Give each player: 5 buttons and a quilt board.\n- Determine starting player (usually who crocheted last).",

      "startingResources": "- 5 buttons.\n- 1 empty quilt board.\n- Neutral pawn starts before the smallest patch tile.",

      "remindersText": "- You may either buy a patch (within 3 tiles of the pawn) or advance and gain buttons.\n- Bought patches must be placed immediately.\n- Buttons = currency AND scoring.\n- Time track position determines turn order.",

      "playerCountSetup": "- Always 2 players.\n- No components change.",

      "turnStructure": "- If behind on the time track, you go again.\n- Action A: Buy one of the next 3 patches (pay buttons + time cost).\n- Action B: Advance your marker to 1 space ahead of opponent and gain buttons equal to distance moved.\n- Income triggered when passing the button spaces.\n- Game ends when both players reach the end of the track.",

      "commonMistakes": "- Forgetting to fill your quilt efficiently early.\n- Not budgeting buttons for late-game high-value patches.\n- Overlooking time cost vs. board coverage.\n- Misplacing patches and leaving unusable gaps.",

      "expansions": []
    },
 "play-nine": {
      "players": "2‚Äì6",
      "time": "30‚Äì45",
      "year": "2004",
      "bggId": "38658",

      "quickStart": "- Shuffle deck and deal 8 cards to each player, face down.\n- Each player reveals any 2 of their cards.\n- Remaining deck in center; discard pile next to it.\n- Lowest score after 9 holes wins.",

      "startingResources": "- 8 face-down cards in a 4√ó2 grid.\n- 2 cards revealed at start.\n- No starting abilities or special cards.",

      "remindersText": "- On your turn: draw from deck or discard ‚Üí replace one card.\n- Replaced cards flip face-up.\n- Some cards have special effects (swap, peek, draw again).\n- Round ends when one player flips all cards face-up.",

      "playerCountSetup": "- No components change.\n- More players = faster cycling of discard and more information.",

      "turnStructure": "- Draw 1 card (deck or discard).\n- Replace one of your 8 cards or discard the drawn card.\n- If replacing, flip replaced card face-up.\n- Special cards trigger immediately.\n- When a player has all cards face-up: one final turn for others.",

      "commonMistakes": "- Forgetting special card effects (especially 0 and ¬± cards).\n- Mixing up reveal vs. replace.\n- Ending the round prematurely by flipping all cards without a plan.\n- Not checking column scoring (pairs/triples).",

      "expansions": []
    },
 "project-l": {
      "players": "1‚Äì4",
      "time": "20‚Äì40",
      "year": "2020",
      "bggId": "260180",

      "quickStart": "- Give each player a basic Level 1 and Level 2 piece.\n- Shuffle puzzle decks (white/black) and reveal 4 puzzles.\n- Place all polyomino pieces within reach.\n- Choose first player.",

      "startingResources": "- 1 Level 1 piece.\n- 1 Level 2 piece.\n- No starting puzzles.",

      "remindersText": "- Each turn you get 3 actions.\n- Master action lets you place one piece in each of your puzzles.\n- Completing puzzles gives new pieces and points.\n- Harder puzzles give better piece rewards.",

      "playerCountSetup": "- No puzzles removed.\n- Solo mode uses automa deck and puzzle cycling rules.",

      "turnStructure": "- Action 1‚Äì3 (choose any combination):\n  ‚Ä¢ Take a puzzle.\n  ‚Ä¢ Place a piece.\n  ‚Ä¢ Master action.\n  ‚Ä¢ Upgrade a piece.\n- When puzzles run low, trigger final round.\n- Score completed puzzle points.",

      "commonMistakes": "- Forgetting that Master action allows placing into ALL puzzles.\n- Upgrading too late.\n- Holding too many puzzles without completing them.\n- Overlooking piece rewards when selecting puzzles.",

      "expansions": [
        {
          "name": "Project L: Finesse",
          "quickStart": "- Add goal tiles to the table.\n- Deal public finesse goals.\n- Shuffle finesse tokens.",
          "reminders": "- Completing finesse goals grants bonus points.\n- Goals require specific puzzle combinations.",
          "rulebook": "",
          "youtube": "",
          "bggId": "291789"
        },
        {
          "name": "Project L: Ghost Piece",
          "quickStart": "- Add Ghost piece supply.\n- Add Ghost puzzles to the deck.",
          "reminders": "- Ghost pieces act as wilds but limited quantity.\n- Ghost puzzles provide huge rewards but more difficulty.",
          "rulebook": "",
          "youtube": "",
          "bggId": "312993"
        }
      ]
    },

  "quacks-of-quedlinburg": {
      "players": "2‚Äì4",
      "time": "45",
      "year": "2018",
      "bggId": "244521",

      "quickStart": "- Give each player a pot board and starting bag.\n- Add starting chips: 1 (x1), 2 (x2), 4 (x4), pumpkins, and white chips as per setup.\n- Shuffle fortune teller cards and reveal one per round.\n- Set up ingredient books based on chosen set (A‚ÄìD).",

      "startingResources": "- Starter bag with 7 white chips + pumpkin + others per rules.\n- 0 rubies.\n- 0 rat tails in round 1.\n- Droplet at base starting space.",

      "remindersText": "- Push-your-luck: draw chips until you stop or explode.\n- If you explode, you choose: points OR buy ingredients (not both).\n- Check for rat tails each round.\n- Resolve ingredients in the printed order.",

      "playerCountSetup": "- No chips removed.\n- Fortune cards scale for all counts.\n- 2-player uses fewer rat tails typically.",

      "turnStructure": "- Reveal fortune card.\n- Add rat tails.\n- Brew phase: draw chips.\n- Optional stop.\n- Explosion check.\n- Resolve ingredients.\n- Score & buy phase.\n- Move droplet/ruby gains.\n- Clean up.",

      "commonMistakes": "- Incorrect white chip explosion threshold (7+!).\n- Buying ingredients before scoring.\n- Resolving ingredients out of order.\n- Miscounting rat tails.\n- Using the wrong ingredient book for the set.",

      "expansions": [
        {
          "name": "The Herb Witches",
          "quickStart": "- Add witch tiles and coins.\n- Add new ingredient books.\n- Each player gets 3 witch powers (bronze/silver/gold).",
          "reminders": "- Each witch can be used once.\n- Witch powers modify scoring, buying, or mitigation.\n- New ingredients add more combos.",
          "rulebook": "",
          "youtube": "",
          "bggId": "283963"
        },
        {
          "name": "The Alchemists",
          "quickStart": "- Add patient boards and alchemist cards.\n- Set cauldron boards beside the pots.\n- Add additional ingredients from expansion.",
          "reminders": "- Patients create unique scoring conditions.\n- Alchemist abilities modify chip draws and risk.\n- More engine-building each round.",
          "rulebook": "",
          "youtube": "",
          "bggId": "300351"
        }
      ]
    },
     "radlands": {
      "players": "2",
      "time": "20‚Äì30",
      "year": "2021",
      "bggId": "329082",

      "quickStart": "- Each player gets 3 camps.\n- Shuffle your deck and draw 6 cards.\n- Choose 3 to keep; discard the other 3.\n- Set water tokens in the center.",
      
      "startingResources": "- 3 camps.\n- 3 water each turn (not stored between turns).\n- 3 kept cards in hand.",

      "remindersText": "- Play cards with water.\n- People go in the front row; events go in the back row.\n- Attacks target front row first.\n- Destroy all 3 enemy camps to win.",

      "playerCountSetup": "- Always 2 players.\n- No variants needed.\n- Draft mode possible if both players know the system.",

      "turnStructure": "- Gain water.\n- Play cards (people/events) using water.\n- Use camp abilities.\n- Attack with people.\n- Resolve event countdowns.",

      "commonMistakes": "- Forgetting water doesn't carry over.\n- Attacking a camp when a front-row person is still alive (illegal).\n- Misplacing events.\n- Ignoring camp abilities too long.",

      "expansions": []
    },
      "rage": {
      "players": "2‚Äì8",
      "time": "45‚Äì60",
      "year": "1983",
      "bggId": "",

      "quickStart": "- Shuffle deck; deal hands according to round number.\n- Turn up the top card to reveal trump.\n- Give each player a bidding token or use paper.\n- First player leads any card.",

      "startingResources": "- Hand of cards (size based on round).\n- Trump suit for the round.\n- Score sheet or tracker.",

      "remindersText": "- Must follow suit if able.\n- Highest card in lead suit wins unless trump played.\n- Rage cards modify trump, scoring, or trick flow.\n- Points for exact bid match.",

      "playerCountSetup": "- Works 2‚Äì8 players (best at 4‚Äì6).\n- Hand size and round count may change slightly at high player counts.",

      "turnStructure": "- Bid number of tricks.\n- Play tricks following suit rules.\n- Resolve Rage card effects.\n- Score after all tricks completed (bonus for exact bid).",

      "commonMistakes": "- Misplaying Rage cards out of order.\n- Forgetting that trump can change mid-round.\n- Changing bids mid-round (illegal).\n- Scoring mismatches.",

      "expansions": []
    },
     "ravine": {
      "players": "3‚Äì6",
      "time": "20‚Äì60",
      "year": "2017",
      "bggId": "225044",

      "quickStart": "- Shuffle deck and place it face-down.\n- Give each player 4 health.\n- Deal 1 starting card to each player.\n- Place fire and shelter tokens nearby.\n- Reveal first day card to begin.",

      "startingResources": "- 4 health hearts.\n- 1 starting card.\n- No food, no fire, no shelter at start.",

      "remindersText": "- Each day players choose to forage or stay at camp.\n- Playing cards can help or hurt the group.\n- Nights require fire/shelter to prevent health loss.\n- Players who lose all hearts become ghosts.",

      "playerCountSetup": "- No card removal needed.\n- Large groups lose health more quickly without teamwork.\n- Ghost actions scale automatically.",

      "turnStructure": "- DAY: Each player chooses to forage or stay.\n- Resolve forage cards.\n- Resolve camp cards.\n- NIGHT: Lose health unless fire/shelter is present.\n- Check for ghosts.\n- Repeat until deck runs out or all players die.",

      "commonMistakes": "- Not building fire early.\n- Forgetting ghost actions.\n- Over-foraging and killing the team.\n- Miscounting health during night.",

      "expansions": [
        {
          "name": "The Spirits Expansion",
          "quickStart": "- Add spirit boards and tokens.\n- Each player chooses (or deals) a spirit.\n- Add new cards into main deck.",
          "reminders": "- Spirits grant unique abilities.\n- Some spirits interact with nights or foraging.\n- Expansion slightly increases difficulty.",
          "rulebook": "",
          "youtube": "",
          "bggId": ""
        }
      ]
    },
     "rook": {
      "players": "2‚Äì6",
      "time": "30‚Äì90",
      "year": "1906",
      "bggId": "265",

      "quickStart": "- Shuffle deck (remove 1s or Rook depending on variant).\n- Deal equal cards to each player.\n- Determine trump (bidding or fixed variant).\n- Highest bid leads first trick.",

      "startingResources": "- Full hand of cards.\n- Optional Rook card.\n- Score sheet or tracker.",

      "remindersText": "- Must follow suit if you can.\n- Rook card is highest trump in many variants.\n- Tricks won help meet your bid.\n- Overbidding penalties apply.",

      "playerCountSetup": "- Many variants remove different cards.\n- 5‚Äì6 players often use reduced decks.\n- 2-player uses special draw rules.",

      "turnStructure": "- Bid (if playing bidding version).\n- Leader plays first card.\n- Others must follow suit.\n- Highest trump or lead-suit card wins.\n- Score based on bid and trick results.",

      "commonMistakes": "- Using wrong deck for chosen variant.\n- Treating Rook card as trump when variant says otherwise.\n- Mis-scoring bids.\n- Leading off-suit when you actually have suit.",

      "expansions": []
    }, 
    "rummikub": {
      "players": "2‚Äì4",
      "time": "60",
      "year": "1977",
      "bggId": "811",

      "quickStart": "- Give each player 14 tiles.\n- Place remaining tiles face-down as draw pool.\n- First player with valid meld plays.\n- Opening meld must total 30 points.",

      "startingResources": "- 14 random tiles.\n- Tile rack.\n- No initial melds.",

      "remindersText": "- You may rearrange tiles on the table freely.\n- Sets: 3+ same number, different colors.\n- Runs: 3+ consecutive numbers, same color.\n- Jokers copy any tile but penalty if left in hand.",

      "playerCountSetup": "- No tiles removed.\n- 2-player games are more tactical.\n- Higher counts = faster table fills.",

      "turnStructure": "- Draw or play tiles.\n- If unable to play, draw 1 tile.\n- Rearrange existing sets/runs if legal.\n- End turn once done manipulating.",

      "commonMistakes": "- Not calling out illegal board states.\n- Forgetting joker penalties.\n- Rearranging tiles illegally.\n- Counting point values wrong on opening meld.",

      "expansions": []
    },
    "sail": {
      "players": "2",
      "time": "20‚Äì30",
      "year": "2023",
      "bggId": "391181",

      "quickStart": "- Place map tiles to form the course.\n- Shuffle the deck and deal hands.\n- Place boat marker at start.\n- Each round, both players play a card face-down.",

      "startingResources": "- Hand of cards.\n- Boat pawn.\n- Map tiles for route.\n- Damage tokens (if using).",

      "remindersText": "- Cooperative trick-taking.\n- Higher card wins but sails determine movement.\n- Hazards on map apply immediately.\n- Communication is limited (no table talk).",

      "playerCountSetup": "- Always 2 players.\n- Route difficulty can be adjusted by tile choice.",

      "turnStructure": "- Both players select a card.\n- Reveal simultaneously.\n- Resolve winner and boat movement.\n- Resolve hazards (rocks, storms, etc.).\n- Draw up if needed.\n- Win by reaching end of map.",

      "commonMistakes": "- Accidentally giving directional info.\n- Miscounting hazard effects.\n- Forgetting that low cards can still move boat depending on sails.\n- Overcommitting strong cards too early.",

      "expansions": []
    },
      "sequence": {
      "players": "2‚Äì12",
      "time": "10‚Äì30",
      "year": "1981",
      "bggId": "2653",

      "quickStart": "- Give each player/team cards based on player count.\n- Place chips in supply.\n- Dead cards are removed.\n- First player plays a card and places a chip on the matching board space.",

      "startingResources": "- Hand of cards.\n- Chip supply.\n- Board in center.",

      "remindersText": "- Goal: make 2 sequences (5 in a row).\n- One-eyed jacks REMOVE chips.\n- Two-eyed jacks are WILD.\n- Blocking is as important as building.",

      "playerCountSetup": "- Teams must alternate seats.\n- Hand size changes with player count.\n- Use recommended team counts for fairness.",

      "turnStructure": "- Play a card.\n- Place chip.\n- Draw a new card.\n- Check for completed sequences.",

      "commonMistakes": "- Forgetting jack powers.\n- Placing chip without matching board card.\n- Not alternating seats in team play.\n- Blocking own team‚Äôs sequences by mistake.",

      "expansions": []
    },
      "skip-bo": {
      "players": "2‚Äì6",
      "time": "20‚Äì45",
      "year": "1967",
      "bggId": "2105",

      "quickStart": "- Shuffle deck.\n- Deal 30 cards to each player (2‚Äì4 players) or 20 cards each (5‚Äì6 players).\n- Turn top card of stockpile face-up.\n- Create 4 shared build piles in the center (start empty).",

      "startingResources": "- Personal stockpile (20 or 30 cards depending on count).\n- 5-card hand.\n- 4 discard piles (start empty).",

      "remindersText": "- Build piles go 1 ‚Üí 12.\n- Skip-Bo acts as wild (can be any number).\n- You may play from hand, discard piles, or top of stockpile.\n- First to empty stockpile wins.",

      "playerCountSetup": "- Deal 30 stockpile cards at 2‚Äì4 players.\n- Deal 20 stockpile cards at 5‚Äì6 players.\n- No other scaling needed.",

      "turnStructure": "- Draw to 5 cards.\n- Play as many cards as possible (build piles 1‚Äì12).\n- End by discarding 1 card to one of your 4 discard piles.\n- Next player's turn.",

      "commonMistakes": "- Using Skip-Bo incorrectly (it is wild, not always a '1').\n- Forgetting discard piles are ordered (you can only play the top).\n- Not drawing back to 5.\n- Trying to build past 12 (pile resets).",

      "expansions": []
    },
      "sky-team": {
      "players": "2",
      "time": "20‚Äì40",
      "year": "2023",
      "bggId": "373106",

      "quickStart": "- Choose an airport board.\n- Assign dice pools (blue/orange).\n- Set altitude, descent, and approach markers.\n- Place passengers and scenario components.",

      "startingResources": "- 4 dice each (varies by scenario).\n- Airport-specific tokens.\n- Approach track components.",

      "remindersText": "- No table talk except allowed communication icons.\n- Dice placed simultaneously.\n- Must satisfy landing requirements (flaps, gear, speed).",

      "playerCountSetup": "- Always 2 players.\n- Scenarios scale difficulty automatically.\n- Setup varies by airport board.",

      "turnStructure": "- Roll dice.\n- Secretly assign dice.\n- Reveal and place.\n- Resolve plane systems: thrust, flaps, gear, descent.\n- Check altitude and landing conditions.",

      "commonMistakes": "- Talking more than rules allow.\n- Misplacing dice on wrong system.\n- Forgetting mandatory descent shifts.\n- Ignoring turbulence modifiers.",

      "expansions": []
    },
      "sniper-elite": {
      "players": "1‚Äì4",
      "time": "60‚Äì90",
      "year": "2021",
      "bggId": "310041",

      "quickStart": "- Choose a map.\n- Sniper takes hidden board + action cubes.\n- Defenders place miniatures in starting zones.\n- Set objective tokens.\n- Give sniper item cards.",

      "startingResources": "- Sniper: action cubes, weapon cards, item cards.\n- Defenders: soldiers + limited intel tokens.",

      "remindersText": "- Sniper moves secretly on separate map.\n- Defenders move on visible grid.\n- Sniper has limited ammo.\n- Noise, alarms, and intel determine detection.",

      "playerCountSetup": "- 1 vs many: 2‚Äì4 defender players cooperate.\n- Sniper player count is always 1.\n- No components removed.",

      "turnStructure": "**Sniper:**\n- Move/loot/shoot.\n- Spend cubes to take extra actions.\n\n**Defenders:**\n- Move soldiers.\n- Search spaces.\n- Attempt to detect sniper.\n- Fire blindly if suspected.",

      "commonMistakes": "- Forgetting sniper can't pass through guards.\n- Miscounting movement squares.\n- Using actions past sniper‚Äôs cube limit.\n- Defenders not coordinating patrol paths.",

      "expansions": []
    },
    "splendor": {
      "players": "2‚Äì4",
      "time": "30",
      "year": "2014",
      "bggId": "148228",

      "quickStart": "- Lay out 3 tiers of cards.\n- Place nobles above play area.\n- Make 5 gem pools + gold jokers.\n- First player begins.",

      "startingResources": "- No starting gems.\n- No cards.\n- No nobles.",

      "remindersText": "- You may take: (1) 3 different gems, (2) 2 of same color (if 4+ remain), (3) buy a card, or (4) reserve a card.\n- Gold = wild.\n- First to 15 points triggers final round.",

      "playerCountSetup": "- Reduce gem stacks for 2‚Äì3 players.\n- All nobles remain in play.",

      "turnStructure": "- Perform one action.\n- Adjust gem pools.\n- Check noble visits.\n- Pass turn.",

      "commonMistakes": "- Taking 2-of-a-kind when fewer than 4 remain.\n- Not reserving key cards.\n- Forgetting noble conditions.\n- Hoarding gems without focus.",

      "expansions": []
    },
    "star-wars-the-deck-building-game": {
      "players": "2",
      "time": "30",
      "year": "2023",
      "bggId": "376353",

      "quickStart": "- Choose faction (Rebel vs Empire).\n- Set up bases according to rules.\n- Each player gets starting deck of 10 cards.\n- Shuffle galaxy deck and reveal row.",

      "startingResources": "- 10-card starter deck.\n- Starting base.\n- No resources or force advantage initially.",

      "remindersText": "- Buy cards from center row using resources.\n- Attack enemy base directly or destroy enemy-aligned cards in row.\n- Force meter shifts based on card abilities.\n- First to destroy 3 bases wins.",

      "playerCountSetup": "- Always 2 players.\n- No cards removed.\n- Bases rotate depending on chosen lineup.",

      "turnStructure": "- Draw 5.\n- Play cards for resources & attack.\n- Buy cards.\n- Attack enemy base or galaxy row cards.\n- Discard all and draw 5 new.",

      "commonMistakes": "- Forgetting force advantage bonuses.\n- Leaving enemy cards in row too long.\n- Not upgrading bases strategically.\n- Spending resources inefficiently.",

      "expansions": []
    },
    "vinhos-deluxe-edition": {
      "players": "1‚Äì4",
      "time": "90‚Äì150",
      "year": "2016",
      "bggId": "175640",

      "quickStart": "- Give each player estate boards and starting money.\n- Place vineyards, wineries, enologists, and farmers.\n- Setup market, fairs, and bank according to chosen mode (2010 or 2016).\n- Place wine quality markers at 0 and barrels in cellars.",

      "startingResources": "- Starting money (varies by player count).\n- 2 estates.\n- 1 farmer token.\n- 1 enologist marker.\n- 0 wines produced initially.",

      "remindersText": "- Each year = action + production + upkeep.\n- Wine quality improves with age.\n- Fairs occur in years 3, 5, 6.\n- Selling wine vs. exporting wine are different actions.",

      "playerCountSetup": "- Money adjusts per player count.\n- Solo uses special automa board.\n- Use 2-bank tiles at 3‚Äì4p.",

      "turnStructure": "- Select action on main board.\n- Resolve action (buy vineyard, hire worker, sell/export, move farmer).\n- Produce wine if season triggers.\n- Pay upkeep.\n- Move to next year.",

      "commonMistakes": "- Confusing sell vs export (export gives ongoing bonuses).\n- Not aging wine correctly.\n- Forgetting fair scoring conditions.\n- Miscounting cellar capacity.",

      "expansions": []
    },
        "watergate": {
      "players": "2",
      "time": "30‚Äì45",
      "year": "2019",
      "bggId": "274364",

      "quickStart": "- Give one player Nixon and one The Editor.\n- Shuffle each faction deck.\n- Place evidence tokens on board randomly.\n- Place initiative and momentum tokens in central row.\n- Nixon starts with initiative.",

      "startingResources": "- Faction deck.\n- Evidence tokens.\n- Momentum/initiative markers.\n- Informant tokens.",

      "remindersText": "- Each turn you play a card for strength (move token) or for ability.\n- Momentum track triggers at end of round.\n- Editor wins by connecting 2 informants to Nixon.\n- Nixon wins by gaining 5 momentum.",

      "playerCountSetup": "- Always 2 players.\n- No cards removed.",

      "turnStructure": "- Draw 5 cards.\n- Take turns playing one card at a time.\n- Move corresponding tokens.\n- After all cards played, resolve tracks.\n- Reset and draw new hand.",

      "commonMistakes": "- Forgetting evidence flips.\n- Misplacing informants.\n- Confusing strength vs ability play.\n- Miscounting momentum resolution.",

      "expansions": []
    },
 "wingspan": {
      "players": "1‚Äì5",
      "time": "40‚Äì70",
      "year": "2019",
      "bggId": "266192",

      "quickStart": "- Give each player player board + 5 bird cards.\n- Give 5 food tokens (one of each type).\n- Keep any cards but discard 1 food per card kept.\n- Set round goals and bonus cards.",

      "startingResources": "- 5 bird cards.\n- 5 food tokens.\n- 2 bonus cards (keep 1).\n- 8 action cubes.",

      "remindersText": "- Each row (forest/grassland/wetland) has unique actions.\n- End-round scoring uses public goals.\n- Birds trigger left-to-right.\n- Eggs limit future plays.",

      "playerCountSetup": "- No cards removed.\n- Food availability changes slightly at 2p.\n- Automata available for solo.",

      "turnStructure": "- Play bird.\n- Gain food.\n- Lay eggs.\n- Draw cards.\n- End-round scoring.\n- After 4 rounds, total points.",

      "commonMistakes": "- Forgetting activation order.\n- Misplacing eggs.\n- Wrong food cost for birds.\n- Missing habitat restrictions.",

      "expansions": [
        {
          "name": "Europe Expansion",
          "quickStart": "- Shuffle in new Europe birds.\n- Add new round-end goals.\n- Add more purple abilities.",
          "reminders": "- New abilities trigger at round end or extra times.\n- Slightly increases bird variety.",
          "rulebook": "",
          "youtube": "",
          "bggId": "279754"
        },
        {
          "name": "Oceania Expansion",
          "quickStart": "- Replace food dice with nectar dice.\n- Add nectar resource and boards.\n- Shuffle in Oceania birds.",
          "reminders": "- Nectar counts for end-game scoring.\n- New birds focus on flexible food and chaining.",
          "rulebook": "",
          "youtube": "",
          "bggId": "310399"
        },
        {
          "name": "Asia Expansion",
          "quickStart": "- Add duet mode for 2 players.\n- Add flock mode for 6‚Äì7 players.\n- Shuffle in Asia birds and duet boards.",
          "reminders": "- Duet tokens score shared objectives.\n- Expands multiplayer options significantly.",
          "rulebook": "",
          "youtube": "",
          "bggId": "376308"
        }
      ]
    },
     "harmonies": {
      "players": "1‚Äì4",
      "time": "30‚Äì45",
      "year": "2024",
      "bggId": "414317",

      "quickStart": "- Give each player a board.\n- Shuffle biome cards and animal tiles.\n- Place starting hex.\n- Reveal top biome cards for drafting.",

      "startingResources": "- 1 starting hex.\n- No animals placed.\n- No tokens.",

      "remindersText": "- Place hexes to match biome scoring.\n- Animals score based on adjacency patterns.\n- Forests, rivers, and meadows chain combos.",

      "playerCountSetup": "- No tiles removed.\n- Solo uses special deck cycling rules.",

      "turnStructure": "- Draft card.\n- Place biome hex.\n- Optionally place animals.\n- Score patterns.\n- Refill card row.",

      "commonMistakes": "- Mis-scoring animal adjacency.\n- Overlapping prohibited terrain.\n- Forgetting end-game landscape bonuses.",

      "expansions": []
    },
         "forest-shuffle": {
      "players": "2‚Äì5",
      "time": "40‚Äì60",
      "year": "2023",
      "bggId": "377924",

      "quickStart": "- Deal 6 cards to each player.\n- Choose first player.\n- Create central market of face-up cards.\n- Place deck nearby.",

      "startingResources": "- 6 cards.\n- No animals or trees placed initially.",

      "remindersText": "- Trees can host animals.\n- Animals score based on environment icons.\n- Each turn: play a card OR draw 2 cards.",

      "playerCountSetup": "- No cards removed.\n- Higher players increase competition for habitats.",

      "turnStructure": "- Play a card (tree/animal) OR draw 2.\n- Score immediate abilities.\n- Refill market.\n- End game when deck is empty twice.",

      "commonMistakes": "- Misplacing animals on wrong tree types.\n- Forgetting sunlight icons.\n- Miscounting final scoring chains.",

      "expansions": []
    },
     "marvel-villainous": {
      "players": "2‚Äì4",
      "time": "40‚Äì80",
      "year": "2020",
      "bggId": "291457",

      "quickStart": "- Give each player a villain board, villain deck, and fate deck.\n- Give 1 reference card and villain mover.\n- Shuffle villain and fate decks separately.\n- Deal villain starting hand as listed on each card.\n- Place power tokens in a shared pool.",

      "startingResources": "- Villain board + mover.\n- Villain deck and fate deck.\n- 4-card starting hand (unless villain says otherwise).\n- 0 power to start (unless villain says otherwise).",

      "remindersText": "- Every villain has a unique objective.\n- Top row = unlocked immediately; bottom row = locked until condition is met.\n- Fate cards target opponents and cover their board with heroes/events.\n- You can only use icons that are not covered by cards.",

      "playerCountSetup": "- 2‚Äì3 players: lean into targeted Fate to slow leaders.\n- 4 players: game can run long; focus on table policing.\n- No components are removed for any count.",

      "turnStructure": "- Move your villain to a different location.\n- Perform any/all available actions at that location.\n- Draw back to full hand.\n- Next player‚Äôs turn.",

      "commonMistakes": "- Ignoring your specific win condition and just hoarding power.\n- Forgetting that covered icons cannot be used.\n- Misplaying Fate cards (wrong target or timing).\n- Not cycling your deck aggressively enough.",

      "expansions": [
        {
          "name": "Mischief & Malice",
          "quickStart": "- Add new villains and their boards, decks, and fate decks.\n- Mix with base game using same rules.\n- Choose any villain from any box.",
          "reminders": "- Each new villain has a unique objective and timing.\n- Fate decks remain villain-specific.",
          "rulebook": "",
          "youtube": "",
          "bggId": "316765"
        },
        {
          "name": "Twisted Ambitions",
          "quickStart": "- Add 3 more villains with their components.\n- Use exactly one Fate deck per villain.",
          "reminders": "- Some villains interact more with shared fate effects and multi-villain tables.",
          "rulebook": "",
          "youtube": "",
          "bggId": "372644"
        },
        {
          "name": "We Are Venom",
          "quickStart": "- Standalone small-box villain, can be added to any Marvel Villainous set.\n- Use Venom‚Äôs board, villain deck, and fate deck like any other.",
          "reminders": "- Venom‚Äôs playstyle leans into symbiote interactions and tempo swings.",
          "rulebook": "",
          "youtube": "",
          "bggId": "399355"
        }
      ]
    },
        "brink": {
      "players": "2‚Äì5",
      "time": "45‚Äì90",
      "year": "2024",
      "bggId": "",

      "quickStart": "- Give each player a faction, player board, and starting deck.\n- Set up map tiles according to scenario.\n- Place starting ships/meeples in home areas.\n- Shuffle market/contract/mission decks as indicated.",

      "startingResources": "- Faction-specific starting deck.\n- Starting ships/meeples.\n- Faction board with unique powers.\n- Starting credits/resources per faction setup.",

      "remindersText": "- Most turns are: play cards ‚Üí take actions ‚Üí resolve upkeep.\n- Positioning on the board matters for control and scoring.\n- Faction abilities push you toward a specific style (aggression, economy, control).",

      "playerCountSetup": "- 2‚Äì3 players: use recommended smaller map layout.\n- 4‚Äì5 players: full map and all neutral areas.\n- Some scenarios may adjust starting resources by player count.",

      "turnStructure": "- Draw up to hand size.\n- Play cards and choose actions (move, attack, trade, complete objectives).\n- Resolve battles and effects.\n- Discard down, draw new hand if needed.",

      "commonMistakes": "- Ignoring faction-specific scoring angles.\n- Overextending on the map with no defense.\n- Forgetting upkeep/maintenance costs.\n- Letting a single player farm contracts uncontested.",

      "expansions": []
    },
    "tend": {
      "players": "1‚Äì4",
      "time": "45‚Äì90",
      "year": "2024",
      "bggId": "427388",

      "quickStart": "- Give each player a farm board.\n- Shuffle crop/animal/event decks.\n- Deal starting cards/resources as indicated by the rulebook.\n- Place round tracker and any weather/season markers.",

      "startingResources": "- Basic crops or seeds.\n- Small amount of coins.\n- Few starting animals or buildings depending on scenario.\n- Player markers and any starting tools.",

      "remindersText": "- Actions usually include planting, watering, feeding, harvesting, and improving your farm.\n- Seasons or rounds change available actions and scoring.\n- Timing harvests and upgrades is key.",

      "playerCountSetup": "- Solo: follow specific solo rules/AI.\n- 2‚Äì4 players: same pool of cards, competition for key upgrades.\n- Some variants may change starting money/resources.",

      "turnStructure": "- Take an action (place worker/choose action).\n- Resolve action effects on crops/animals.\n- Handle upkeep (feeding, spoilage, etc.).\n- Advance round/season when track indicates.",

      "commonMistakes": "- Overextending crops without enough water/feeding capacity.\n- Forgetting upkeep costs.\n- Mis-timing big scoring harvests.\n- Ignoring multi-round engine building for short-term points.",

      "expansions": []
    },
    "pillars-of-fate": {
      "players": "2",
      "time": "40",
      "year": "2025",
      "bggId": "",

      "quickStart": "- Each player chooses a faction/side.\n- Shuffle and draw starting hand.\n- Set starting health/track values according to the rulebook.\n- Place any central objective tiles/cards.",

      "startingResources": "- Starting deck or hand of cards.\n- Health/energy markers.\n- Any starting units/tokens on the board if used.",

      "remindersText": "- Generally a head-to-head duel: play cards, manage resources, and pursue your win condition.\n- Many effects are timing-based: check triggers carefully.\n- Often asymmetric powers between the two sides.",

      "playerCountSetup": "- Always 2 players.\n- No scaling changes beyond recommended starting setups.",

      "turnStructure": "- Draw up to hand size.\n- Play cards (units, actions, powers).\n- Resolve combat/effects.\n- Discard and refresh as required.",

      "commonMistakes": "- Mis-timing reactive cards.\n- Over-committing resources in a single round.\n- Forgetting persistent effects or ongoing buffs/debuffs.",

      "expansions": []
    },
      "graft": {
      "players": "2‚Äì4",
      "time": "20‚Äì40",
      "year": "*",
      "bggId": "",

      "quickStart": "- Shuffle the main deck and deal starting hands.\n- Set any central row/market as directed.\n- Give each player their starting influence/energy tokens.",

      "startingResources": "- Starting hand (usually 5 cards, unless rules differ).\n- Basic resource/energy pool.\n- Player marker or reference card.",

      "remindersText": "- Core loop is playing cards in combos to trigger chained effects.\n- Timing and order of cards is more important than single-card power.\n- Watch for engine pieces that accelerate your turns.",

      "playerCountSetup": "- 2‚Äì4 players, same deck.\n- At higher counts, strong cards cycle faster through the discard/draw.\n- Some variants may remove a few cards at low player counts.",

      "turnStructure": "- Draw up to hand size.\n- Play cards and resolve effects in chosen order.\n- Gain resources/points as effects resolve.\n- Discard and redraw new hand if rules require.",

      "commonMistakes": "- Playing cards in the wrong order and losing combo potential.\n- Floating unused resources that don‚Äôt carry over.\n- Ignoring cheap but efficient combo pieces in favor of flashy effects.",

      "expansions": []
    },
      "time-to-panic": {
      "players": "2‚Äì4",
      "time": "20‚Äì40",
      "year": "*",
      "bggId": "",

      "quickStart": "- Set up the central board/track according to the scenario.\n- Deal each player a starting hand and any role-specific powers.\n- Place panic/doom/timer markers at their starting values.",

      "startingResources": "- Starting hand of cards.\n- Player marker/role card.\n- No points or progress at start.",

      "remindersText": "- Often real-time or time-pressured structure: act fast but don‚Äôt forget rules.\n- Many effects manipulate the timer or panic level.\n- Cooperation or semi-coop elements may exist depending on mode.",

      "playerCountSetup": "- 2‚Äì4 players.\n- Timer or panic thresholds may scale with player count (check rulebook).",

      "turnStructure": "- Draw cards (if allowed).\n- Play cards / take actions as timer permits.\n- Adjust panic/timer tracks.\n- Check loss condition first, then win condition.",

      "commonMistakes": "- Forgetting to update timer/panic when card text says to.\n- Over-talking instead of acting in time-pressure modes.\n- Burning all solutions early and having no answers later.",

      "expansions": []
    }
  }
}
</script>

<script>
(() => {
  /* theme toggle */
  const root = document.documentElement;
  const saved = localStorage.getItem("theme");
  if (saved) root.setAttribute("data-theme", saved);
  document.getElementById("themeToggle").addEventListener("click", () => {
    const curr = root.getAttribute("data-theme");
    const next = curr === "dark" ? "light" : "dark";
    root.setAttribute("data-theme", next);
    localStorage.setItem("theme", next);
  });

  /* BG Stats helpers */
  const BGSTATS_ID_PREFIX_APP  = 'bgstats://app.bgstatsapp.com/addPlay.html?gameId=';
  const BGSTATS_ID_PREFIX_WEB  = 'https://bgstats.app/bgg/';
  const BGSTATS_SLUG_PREFIX_WEB = 'https://bgstats.app/game/';
  const extractBggId = (urlOrId) => {
    if (!urlOrId) return '';
    const m = String(urlOrId).match(/(\d{2,})/);
    return m ? m[1] : '';
  };
  const bgstatsUrl = (slug) => `${BGSTATS_SLUG_PREFIX_WEB}${slug}`;

  /* data */
  const RAW = JSON.parse(document.getElementById('games-json').textContent);
  const slugify = s => s.toLowerCase()
    .replace(/[:‚Äô'"]/g,"")
    .replace(/&/g,"and")
    .replace(/[^a-z0-9]+/g,"-")
    .replace(/(^-|-$)/g,"");
  const qp = n => new URL(location.href).searchParams.get(n)||"";
  const basePath = () =>
    location.pathname
      .replace(/\/index\.html$/,'')
      .replace(/\/$/,'');
  const rulebookUrl = s => `${basePath()}/rulebooks/${s}.pdf`;
  const remindersUrl = s => `${basePath()}/reminders/${s}.html`;
  function coverUrl(slug){
    const bp = basePath();
    return `${bp}/covers/${slug}.webp`;  // full cover shown (no crop)
  }

  const DATA = {};
  (RAW.names || []).forEach(name => {
    const slug = slugify(name);
    DATA[slug] = { name, slug, ...(RAW.enrich?.[slug] || {}) };
  });

  const $app = document.getElementById('app');

  function listRow(g){
    const subbits = [g.players, g.time ? `${g.time} min` : null, g.year]
      .filter(Boolean)
      .join(" ‚Ä¢ ");
    return `
      <a class="card" href="#/game/${g.slug}">
        <div class="thumb">
          <img loading="lazy" src="${coverUrl(g.slug)}" onerror="this.parentNode.style.display='none'">
        </div>
        <div class="metaWrap">
          <h2>${g.name}</h2>
          <p class="sub">${subbits}</p>
        </div>
      </a>`;
  }

  function renderList(filter=""){
    const f = (filter || "").toLowerCase();
    const games = Object.values(DATA)
      .filter(g => !f || g.name.toLowerCase().includes(f))
      .sort((a,b) => a.name.localeCompare(b.name));
    $app.innerHTML = `
      <input id="search" placeholder="Search your collection‚Ä¶" aria-label="Search games" value="${filter.replace(/"/g,'&quot;')}">
      <section class="grid">
        ${games.map(listRow).join("")}
      </section>`;
    document.getElementById('search').addEventListener('input', e => renderList(e.target.value));
  }

  function expansionSlug(name){ return slugify(name); }
  function expansionRulebook(gameSlug, exp){
    // if explicit rulebook URL is provided, use it; else build a default path
    if (exp.rulebook) return exp.rulebook;
    const es = expansionSlug(exp.name || "");
    return rulebookUrl(`${gameSlug}--${es}`.replace(/\.pdf$/,'')); // "<game>--<exp>.pdf"
  }

  // Render expansions with their own quick setup, reminders, rulebook, BG Stats, and video
  function renderExpansions(game){
    const exps = Array.isArray(game.expansions) ? game.expansions : [];
    if (!exps.length) return "";
    const blocks = exps.map(exp => {
      const expName = exp.name || "Expansion";
      const expRulebook = expansionRulebook(game.slug, exp);

      const expBggId = extractBggId(exp.bggId || "");
      const baseBggId = extractBggId(game.bggId || "");
      const id = expBggId || baseBggId;

      const links = {
        rulebook: expRulebook,
        youtube: exp.youtube || "",
        bgstats: id ? `${BGSTATS_ID_PREFIX_WEB}${id}` : "",
        bgstatsApp: id ? `${BGSTATS_ID_PREFIX_APP}${id}` : null
      };

      const qs  = (exp.quickStart || "").trim();
      const rem = (exp.reminders  || "").trim();

      return `
        <details class="expansion">
          <summary><span class="expansion-name">${expName}</span></summary>
          <div class="expansion-body">
            ${qs ? `<div class="expansion-text-block"><h4>Quick Setup</h4><p>${qs.replace(/\n/g,"<br>")}</p></div>` : ""}
            ${rem ? `<div class="expansion-text-block"><h4>Quick Reminders</h4><p>${rem.replace(/\n/g,"<br>")}</p></div>` : ""}
            <div class="expansion-btns">
              ${links.rulebook ? `<a class="btnlink" href="${links.rulebook}" target="_blank" rel="noopener">Rulebook</a>` : ""}
              ${links.youtube ? `<a class="btnlink" href="${links.youtube}" target="_blank" rel="noopener">‚ñ∂Ô∏è How-to-Play</a>` : ""}
            </div>
          </div>
        </details>`;
    }).join("");

    return `
      <section id="exp" class="exp">
        <h3>Expansions</h3>
        ${blocks}
      </section>`;
  }

  function renderDetail(slug, action="quicksetup"){
    const g = DATA[slug];
    if(!g){
      $app.innerHTML = `<div class="detail"><p>Game not found: <code>${slug}</code></p></div>`;
      return;
    }
    const subbits = [g.players, g.time ? `${g.time} min` : null, g.year]
      .filter(Boolean)
      .join(" ‚Ä¢ ");
    const id = extractBggId(g.bggId);
    const links = {
      youtube: g.youtube || "",
      bgstats: id ? `${BGSTATS_ID_PREFIX_WEB}${id}` : bgstatsUrl(slug),
      bgstatsApp: id ? `${BGSTATS_ID_PREFIX_APP}${id}` : null,
      reminders: g.reminders || remindersUrl(slug),
      rulebook: g.rulebook || rulebookUrl(slug),
      cover: coverUrl(slug)
    };

    
       // Base-game quick setup / reference sections
    const quickText        = (g.quickStart || "").trim();
    const remindersText    = (g.remindersText && String(g.remindersText).trim()) || "";
    const playerCountSetup = (g.playerCountSetup || "").trim();
    const startingResources = (g.startingResources || "").trim();
    const turnStructure    = (g.turnStructure || "").trim();
    const commonMistakes   = (g.commonMistakes || "").trim();

    const quickBlocksHtml = `
      <details class="expansion" id="quick-setup-block" ${quickText ? "open" : ""}>
        <summary><span class="expansion-name">Quick Set Up</span></summary>
        <div class="expansion-body">
          <div class="expansion-text-block">
            <p>${(quickText || "(No quick setup yet.)").replace(/\n/g,"<br>")}</p>
          </div>
        </div>
      </details>

      <details class="expansion" id="reminders-block">
        <summary><span class="expansion-name">Reminders</span></summary>
        <div class="expansion-body">
          <div class="expansion-text-block">
            <p>${(remindersText || "(No reminders yet.)").replace(/\n/g,"<br>")}</p>
          </div>
        </div>
      </details>

      <details class="expansion" id="playercount-block">
        <summary><span class="expansion-name">Player Count Setup</span></summary>
        <div class="expansion-body">
          <div class="expansion-text-block">
            <p>${(playerCountSetup || "(No player-count-specific setup yet.)").replace(/\n/g,"<br>")}</p>
          </div>
        </div>
      </details>

      <details class="expansion" id="starting-resources-block">
        <summary><span class="expansion-name">Starting Resources & Setup Checklist</span></summary>
        <div class="expansion-body">
          <div class="expansion-text-block">
            <p>${(startingResources || "(No starting resources/checklist yet.)").replace(/\n/g,"<br>")}</p>
          </div>
        </div>
      </details>

      <details class="expansion" id="turn-structure-block">
        <summary><span class="expansion-name">Turn Structure / Phases</span></summary>
        <div class="expansion-body">
          <div class="expansion-text-block">
            <p>${(turnStructure || "(No turn structure summary yet.)").replace(/\n/g,"<br>")}</p>
          </div>
        </div>
      </details>

      <details class="expansion" id="common-mistakes-block">
        <summary><span class="expansion-name">Common Mistakes</span></summary>
        <div class="expansion-body">
          <div class="expansion-text-block">
            <p>${(commonMistakes || "(No common mistakes noted yet.)").replace(/\n/g,"<br>")}</p>
          </div>
        </div>
      </details>
    `;
    $app.innerHTML = `
      <article class="detail">
        <figure class="cover"><img src="${links.cover}" alt=""></figure>
        <div>
          <h2 class="title">${g.name}</h2>
          <p class="byline">${subbits || ""}</p>
          <div class="actions">
            <!-- Quick Set Up / Reminders block at the top -->
            <section id="qs" class="exp">
              ${quickBlocksHtml || "<p>(No quick setup/reminders yet.)</p>"}
            </section>

            <!-- Expansions block (unchanged, still collapsible per expansion) -->
            ${renderExpansions(g)}

            <!-- Buttons in new order: Rulebook, BG Stats, How-to-Play, Share -->
            <a class="btnlink" href="${links.rulebook}" target="_blank" rel="noopener">Open Rulebook (PDF)</a>
            <a class="btnlink" id="btn-bgstats" href="${links.bgstats}" target="_blank" rel="noopener">BG Stats ‚Äî Log a Play</a>
            <a class="btnlink" id="btn-youtube" ${links.youtube ? `href="${links.youtube}" target="_blank" rel="noopener"` : ""}>‚ñ∂Ô∏è How-to-Play</a>

            <button class="btn" id="share">Share / Copy Link</button>
          </div>
        </div>
      </article>
      <footer>Rulebook path: <code>${links.rulebook}</code></footer>`;

    // Share button
    document.getElementById('share').addEventListener('click', async () => {
      const u = location.href;
      try {
        if (navigator.share) {
          await navigator.share({title:`${g.name}`, text:`Quick Menu ‚Äî ${g.name}`, url:u});
          return;
        }
      } catch(e){}
      try {
        await navigator.clipboard.writeText(u);
        alert("Link copied");
      } catch(e){
        prompt("Copy link:", u);
      }
    });

    // BG Stats app-first behavior (base game)
    const bgbtn = document.getElementById('btn-bgstats');
    if (bgbtn) {
      bgbtn.addEventListener('click', (e) => {
        // If we have an app deep link, use it and DO NOT fall back to web
        if (links.bgstatsApp) {
          e.preventDefault();
          window.location.href = links.bgstatsApp;
        }
        // else: no app link available, let the normal href (web URL) behave as-is
      });
    }

    // BG Stats deep-link for expansions (if any)
    document.querySelectorAll('.expansion-bgstats').forEach(el => {
      const appUrl = el.dataset.app;
      const webUrl = el.getAttribute('href');
      if (!appUrl) return; // just use normal web link
      el.addEventListener('click', (e) => {
        e.preventDefault();
        let fallbackTimer = setTimeout(() => { window.open(webUrl, '_blank', 'noopener'); }, 700);
        const a = document.createElement('a');
        a.href = appUrl;
        a.style.display='none';
        document.body.appendChild(a);
        a.click();
        setTimeout(()=>{ try{document.body.removeChild(a)}catch{} }, 1200);
      });
    });

    // Respect &action param (for things like ?action=youtube)
    const actionLower = (action || "").toLowerCase();
    if (actionLower && actionLower !== "quicksetup") {
      const map = { youtube:"#btn-youtube" };
      const sel = map[actionLower];
      if (sel) document.querySelector(sel)?.click();
    }
  }

  function normalizeIncoming(){
    const q = qp("game");
    if (q){
      const want = q.trim();
      const slugged = slugify(want);
      const a = (qp("action") || "quicksetup").toLowerCase();
      location.replace(`#\/game\/${slugged}?action=${encodeURIComponent(a)}`);
      return true;
    }
    return false;
  }

  function parseHash(){
    const h = location.hash || "#/";
    const [path,q] = h.slice(2).split("?");
    const parts = (path || "").split("/");
    const params = new URLSearchParams(q || "");
    if (parts[0] === "game" && parts[1])
      return {route:"detail", slug:parts[1].toLowerCase(), action:(params.get("action") || "quicksetup").toLowerCase()};
    return {route:"list"};
  }

  function render(){
    if (normalizeIncoming()) return;
    const {route, slug, action} = parseHash();
    route === "detail" ? renderDetail(slug, action) : renderList("");
  }

  window.addEventListener("hashchange", render);
  document.addEventListener("DOMContentLoaded", render);

  /* service worker */
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register(`${basePath()}/sw.js`).catch(()=>{});
  }
})();
</script>
</body>
</html>
